<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="/images/logo_header.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Case Studies â€¢ Suflex Media | Manage Case Study Content</title>
    <!-- Block search engine indexing for admin page -->
    <meta name="robots" content="noindex, nofollow">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        .content-editable.empty:before {
            content: attr(data-placeholder);
            color: rgba(255, 255, 255, 0.4);
            pointer-events: none;
        }

        .content-editable:focus {
            outline: none;
        }

        .content-editable {
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
            overflow-y: auto;
            position: relative;
            z-index: 1;
        }

        .content-editable * {
            background-color: transparent !important;
            background: transparent !important;
        }

        .content-editable p,
        .content-editable div,
        .content-editable h1,
        .content-editable h2,
        .content-editable h3,
        .content-editable h4,
        .content-editable h5,
        .content-editable h6 {
            margin-top: 0 !important;
            margin-bottom: 0 !important;
            padding-top: 0 !important;
            padding-bottom: 0 !important;
        }

        .bullet-item,
        .project-snapshot-item,
        .bullet-point-item {
            position: relative;
            z-index: 1;
            margin-bottom: 1rem;
        }

        .text-formatting-toolbar {
            display: flex;
            gap: 0.25rem;
            padding: 0.5rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .format-btn {
            padding: 0.5rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.375rem;
            color: white;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .format-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .format-btn:active {
            background: rgba(255, 255, 255, 0.15);
        }

        .format-btn svg {
            width: 1rem;
            height: 1rem;
        }
    </style>
    <link rel="stylesheet" href="/css/zoom.css">
    <link rel="stylesheet" href="/css/admin/admin-blogs-desktop.css" />
</head>

<body data-zoom-container>
    <nav class="fixed top-0 left-0 right-0 z-50">
        <div class="flex items-center justify-between px-6 py-4">
            <div class="flex items-center gap-4">
                <button onclick="window.history.back()"
                    class="back-button p-2 rounded-full hover:bg-white/5 transition-colors" title="Go Back">
                    <i data-lucide="arrow-left" class="w-5 h-5 text-white"></i>
                </button>
                <h1 class="logo-text text-2xl font-bold text-white">Sufflex Media</h1>
            </div>

            <div class="navbar-wrapper"
                style="backdrop-filter: blur(35px); -webkit-backdrop-filter: blur(35px); background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.05); border-radius: 70px; padding: 12px 20px;">
                <div id="navbarTabs" class="expandable-tabs flex items-center gap-4 anim-hidden-initial"
                    style="animation: slideDown 0.8s cubic-bezier(0.25, 0.4, 0.25, 1) 0.3s forwards;">
                </div>
            </div>

            <button onclick="handleLogout()" class="logout-button">
                <i data-lucide="log-out" class="w-4 h-4 text-black"></i>
                <span>Logout</span>
            </button>
        </div>
    </nav>

    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <span class="spinner"></span>
            <p class="loading-text">Authenticating...</p>
        </div>
    </div>
    <div
        class="fixed inset-0 bg-gradient-to-br from-indigo-500/[0.03] via-transparent to-rose-500/[0.03] pointer-events-none">
    </div>

    <main class="pt-20 px-4">
        <div class="main-grid-container">
            <div class="left-section" id="leftSection">
                <div class="left-section-header-new" id="galleryHeader">
                    <div class="header-left">
                        <h2 class="section-header-title">Files</h2>
                    </div>
                    <div class="header-center">
                        <div class="expandable-tabs flex items-center gap-2">
                            <button class="left-tab-button active" data-left-tab="upload-pdf">
                                <div class="flex-shrink-0">
                                    <i data-lucide="upload" class="w-4 h-4"></i>
                                </div>
                                <span>Upload</span>
                            </button>
                            <button class="left-tab-button" data-left-tab="storage">
                                <div class="flex-shrink-0">
                                    <i data-lucide="folder" class="w-4 h-4"></i>
                                </div>
                                <span>Gallery</span>
                            </button>
                        </div>
                    </div>
                    <div class="header-right">
                        <button id="toggleGalleryBtn" class="gallery-toggle-btn" title="Toggle Gallery">
                            <i data-lucide="chevron-left" class="w-5 h-5"></i>
                        </button>
                    </div>
                </div>

                <div id="upload-pdfContent" class="left-content-section active">
                    <h3 class="text-lg font-semibold mb-4 text-white" style="font-family: 'Playfair Display', serif;">
                        Upload Files</h3>
                    <div class="bg-black/20 border-white/10 rounded-[20px] p-6">
                        <div id="pdfDropzone" class="dropzone flex flex-col items-center justify-center space-y-3"
                            style="border: 2px dashed rgba(255, 255, 255, 0.2); border-radius: 20px; padding: 2.5rem; text-align: center; cursor: pointer; transition: all 0.2s ease; background-color: rgba(255, 255, 255, 0.02);">
                            <i id="pdfDropzoneIcon" data-lucide="upload-cloud" class="w-12 h-12 text-white/40"></i>
                            <p class="font-semibold">Drag & drop files here</p>
                            <p id="pdfDropzoneText" class="text-sm text-white/60">Upload images or PDF files. No size
                                limit.</p>
                            <p class="text-xs text-white/50">or</p>
                            <button type="button" onclick="document.getElementById('pdfFileInput').click()"
                                class="form-button bg-white/10 hover:bg-white/20 text-white/90 !px-4 !py-2">Browse
                                Files</button>
                        </div>
                        <input type="file" id="pdfFileInput" multiple
                            accept=".pdf,.jpg,.jpeg,.png,.gif,.webp,.svg,image/*,application/pdf" class="hidden">

                        <div id="pdfFileQueue" class="mt-6 space-y-3"></div>

                        <div class="mt-8 flex justify-center">
                            <button id="pdfUploadBtn" class="form-button bg-white text-black hover:bg-gray-100"
                                disabled>
                                <i data-lucide="upload" class="w-4 h-4 mr-2"></i>
                                <span id="pdfUploadBtnText">Upload 0 Files</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div id="storageContent" class="left-content-section">
                    <div class="mb-4 flex items-center gap-2">
                        <button id="filterAllBtn"
                            class="gallery-filter-btn active px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20 text-white text-sm transition-colors border border-white/10">
                            <i data-lucide="grid-3x3" class="w-4 h-4 inline mr-1"></i>
                            All
                        </button>
                        <button id="filterImagesBtn"
                            class="gallery-filter-btn px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-white/70 text-sm transition-colors border border-white/5">
                            <i data-lucide="image" class="w-4 h-4 inline mr-1"></i>
                            Images
                        </button>
                        <button id="filterPDFsBtn"
                            class="gallery-filter-btn px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-white/70 text-sm transition-colors border border-white/5">
                            <i data-lucide="file-text" class="w-4 h-4 inline mr-1"></i>
                            PDFs
                        </button>
                    </div>

                    <div id="gallerySubContent" class="storage-sub-content active">
                        <div id="galleryGrid" class="grid grid-cols-4 gap-4">
                        </div>

                        <div id="noGalleryItems" class="text-center py-8 hidden">
                            <i data-lucide="folder-x" class="w-12 h-12 mx-auto text-white/20 mb-4"></i>
                            <h4 class="text-lg font-medium text-white/80">No Files Found</h4>
                            <p class="text-white/50 mt-2">Try uploading some files or changing your filter.</p>
                        </div>
                    </div>

                    <div id="magazinesSubContent" class="storage-sub-content">
                        <div class="relative mb-6">
                            <div class="search-input-container" style="position: relative;">
                                <i data-lucide="search"
                                    class="w-4 h-4 absolute left-4 top-1/2 -translate-y-1/2 text-white/40 z-10"></i>
                                <input type="text" placeholder="Search magazines..."
                                    class="search-input w-full py-2 pl-11 pr-4 text-sm rounded-[20px] focus:ring-0 focus:outline-none transition bg-transparent border-none color-white"
                                    id="magazinesSearchInput"
                                    style="background-color: transparent; border: none; color: white;">
                            </div>
                        </div>
                    </div>
                    <div id="magazinesGrid" class="grid grid-cols-4 gap-4">
                    </div>

                    <div id="noMagazineItems" class="text-center py-8 hidden">
                        <i data-lucide="folder-x" class="w-12 h-12 mx-auto text-white/20 mb-4"></i>
                        <h4 class="text-lg font-medium text-white/80">No Magazines Found</h4>
                        <p class="text-white/50 mt-2">Try uploading some magazines or changing your search.</p>
                    </div>
                </div>

            </div>

            <div class="right-section">
                <section id="addBlogs" class="content-section active">
                    <div class="form-container">
                        <h2 class="section-title text-center">Add New Case Study</h2>
                        <form id="addBlogForm">
                            <input type="hidden" id="contentType" name="contentType" value="CASE STUDY" required />

                            <div
                                class="seo-section-wrapper p-4 rounded-lg bg-white/[0.01] border border-white/[0.03] mb-6">
                                <h3 class="text-lg font-medium text-white/90 mb-4 flex items-center">
                                    <i data-lucide="search" class="w-5 h-5 mr-2"></i>SEO
                                </h3>

                                <div class="form-item">
                                    <label class="form-label" for="seoTitle">
                                        <i data-lucide="type" class="w-4 h-4 inline mr-2"></i>Title
                                    </label>
                                    <input type="text" id="seoTitle" name="seoTitle" class="form-input"
                                        placeholder="Enter SEO title..." />
                                </div>

                                <div class="form-item">
                                    <label class="form-label" for="seoMetaDescription">
                                        <i data-lucide="file-text" class="w-4 h-4 inline mr-2"></i>Meta Description
                                    </label>
                                    <textarea id="seoMetaDescription" name="seoMetaDescription" class="form-input"
                                        style="height: 4rem; resize: vertical;"
                                        placeholder="Enter SEO meta description..."></textarea>
                                </div>

                                <div class="form-item">
                                    <label class="form-label" for="seoCanonicalUrl">
                                        <i data-lucide="link" class="w-4 h-4 inline mr-2"></i>Canonical URL
                                    </label>
                                    <input type="url" id="seoCanonicalUrl" name="seoCanonicalUrl" class="form-input"
                                        placeholder="https://suflexmedia.com/case-study/title" />
                                    <p class="text-xs text-white/50 mt-1">Leave empty for self-referencing canonical URL
                                    </p>
                                </div>
                            </div>

                            <div
                                class="preview-section-wrapper p-4 rounded-lg bg-white/[0.01] border border-white/[0.03] mb-6">
                                <h3 class="text-lg font-medium text-white/90 mb-4 flex items-center">
                                    <i data-lucide="eye" class="w-5 h-5 mr-2"></i>Preview
                                </h3>

                                <div class="form-item">
                                    <label class="form-label" for="previewImageUrl">
                                        <i data-lucide="image" class="w-4 h-4 inline mr-2"></i>Preview Image URL
                                    </label>
                                    <input type="url" id="previewImageUrl" name="previewImageUrl" class="form-input"
                                        placeholder="https://example.com/preview-image.jpg" />
                                </div>

                                <div class="form-item">
                                    <label class="form-label" for="previewImageAlt">
                                        <i data-lucide="type" class="w-4 h-4 inline mr-2"></i>Preview Image Alt Text
                                    </label>
                                    <input type="text" id="previewImageAlt" name="previewImageAlt" class="form-input"
                                        placeholder="Enter alt text for preview image..." />
                                </div>

                                <div class="form-item">
                                    <label class="form-label" for="previewText">
                                        <i data-lucide="file-text" class="w-4 h-4 inline mr-2"></i>Preview Text <span
                                            class="text-red-400">*</span>
                                    </label>
                                    <div class="text-formatting-toolbar mb-2 flex flex-wrap gap-1">
                                        <button type="button" class="format-btn" data-format="bold" title="Bold"><i
                                                data-lucide="bold" class="w-4 h-4"></i></button>
                                        <button type="button" class="format-btn" data-format="italic" title="Italic"><i
                                                data-lucide="italic" class="w-4 h-4"></i></button>
                                        <button type="button" class="format-btn" data-format="underline"
                                            title="Underline"><i data-lucide="underline" class="w-4 h-4"></i></button>
                                    </div>
                                    <div id="previewText" contenteditable="true" class="form-input content-editable"
                                        style="min-height: 6rem; max-height: 20rem; overflow-y: auto;"
                                        data-placeholder="Enter preview text for the case study..." required></div>
                                </div>

                                <div class="form-item">
                                    <label class="form-label">
                                        <i data-lucide="list" class="w-4 h-4 inline mr-2"></i>Project Snapshots
                                    </label>

                                    <div id="projectSnapshotsContainer" class="space-y-3 mb-4">
                                    </div>

                                    <button type="button" id="addProjectSnapshotBtn"
                                        class="form-button bg-white/10 hover:bg-white/20 border border-white/20 text-white text-sm px-3 py-2">
                                        <i data-lucide="plus" class="w-4 h-4 mr-2"></i>
                                        Add Project Snapshot
                                    </button>
                                </div>
                            </div>

                            <div
                                class="category-section-wrapper p-4 rounded-lg bg-white/[0.01] border border-white/[0.03] mb-6">
                                <h3 class="text-lg font-medium text-white/90 mb-4 flex items-center">
                                    <i data-lucide="folder" class="w-5 h-5 mr-2"></i>Category
                                </h3>

                                <div class="form-item">
                                    <label class="form-label" for="blogCategory">
                                        <i data-lucide="tag" class="w-4 h-4 inline mr-2"></i>Category
                                    </label>
                                    <select id="blogCategory" name="blogCategory" class="form-input">
                                        <option value="" disabled selected>Select a category...</option>
                                        <option value="linkedin-branding">LinkedIn Branding</option>
                                        <option value="ghostwriting">Ghostwriting</option>
                                        <option value="performance-marketing">Performance Marketing</option>
                                        <option value="website-development">Website Development</option>
                                    </select>
                                </div>
                            </div>

                            <div
                                class="content-section-wrapper p-4 rounded-lg bg-white/[0.01] border border-white/[0.03] mb-6">
                                <h3 class="text-lg font-medium text-white/90 mb-4 flex items-center">
                                    <i data-lucide="layout" class="w-5 h-5 mr-2"></i>Content
                                </h3>

                                <div class="form-item">
                                    <label class="form-label" for="pdfUrl">
                                        <i data-lucide="file-text" class="w-4 h-4 inline mr-2"></i>PDF URL <span
                                            class="text-red-400">*</span>
                                    </label>
                                    <input type="url" id="pdfUrl" name="pdfUrl" class="form-input"
                                        placeholder="https://example.com/document.pdf" required />
                                </div>

                                <div class="form-row">
                                    <div class="form-item">
                                        <label class="form-label" for="blogTitle">
                                            <i data-lucide="heading" class="w-4 h-4 inline mr-2"></i>Case Study Title
                                            <span class="text-red-400">*</span>
                                        </label>
                                        <input type="text" id="blogTitle" name="blogTitle" class="form-input"
                                            placeholder="Enter case study title..." required />
                                    </div>
                                    <div class="form-item">
                                        <label class="form-label" for="blogDate">
                                            <i data-lucide="calendar" class="w-4 h-4 inline mr-2"></i>Case Study Publish
                                            Date
                                        </label>
                                        <input type="date" id="blogDate" name="blogDate" class="form-input" />
                                    </div>
                                </div>

                                <div class="form-item">
                                    <label class="form-label" for="blogSummary">
                                        <i data-lucide="file-text" class="w-4 h-4 inline mr-2"></i>Case Study Summary
                                        <span class="text-red-400">*</span>
                                    </label>
                                    <div class="text-formatting-toolbar mb-2 flex flex-wrap gap-1">
                                        <button type="button" class="format-btn" data-format="bold" title="Bold"><i
                                                data-lucide="bold" class="w-4 h-4"></i></button>
                                        <button type="button" class="format-btn" data-format="italic" title="Italic"><i
                                                data-lucide="italic" class="w-4 h-4"></i></button>
                                        <button type="button" class="format-btn" data-format="underline"
                                            title="Underline"><i data-lucide="underline" class="w-4 h-4"></i></button>
                                    </div>
                                    <div id="blogSummary" contenteditable="true" class="form-input content-editable"
                                        style="min-height: 6rem; max-height: 20rem; overflow-y: auto;"
                                        data-placeholder="Write a brief summary of your case study..." required></div>
                                </div>

                                <div class="form-item" id="blogStatusSection" style="display: none;">
                                    <label class="form-label">
                                        <i data-lucide="settings" class="w-4 h-4 inline mr-2"></i>Case Study Status
                                    </label>
                                    <div class="flex gap-4">
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="radio" name="blogStatus" value="draft"
                                                class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500">
                                            <span class="text-sm text-white">Draft</span>
                                        </label>
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="radio" name="blogStatus" value="published"
                                                class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500">
                                            <span class="text-sm text-white">Published</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="form-item">
                                    <label class="form-label">
                                        <i data-lucide="layers" class="w-4 h-4 inline mr-2"></i>Content Area
                                    </label>

                                    <div class="space-y-6">
                                        <div class="p-4 rounded-lg bg-white/[0.02] border border-white/[0.05]">
                                            <h3 class="text-base font-semibold text-white/90 mb-3 flex items-center">
                                                <i data-lucide="eye" class="w-5 h-5 mr-2"></i>The Vision
                                            </h3>
                                            <div class="text-formatting-toolbar mb-2 flex flex-wrap gap-1">
                                                <button type="button" class="format-btn" data-format="bold"
                                                    title="Bold"><i data-lucide="bold" class="w-4 h-4"></i></button>
                                                <button type="button" class="format-btn" data-format="italic"
                                                    title="Italic"><i data-lucide="italic" class="w-4 h-4"></i></button>
                                                <button type="button" class="format-btn" data-format="underline"
                                                    title="Underline"><i data-lucide="underline"
                                                        class="w-4 h-4"></i></button>
                                            </div>
                                            <div id="theVision" contenteditable="true"
                                                class="form-input content-editable"
                                                style="min-height: 8rem; max-height: 20rem; overflow-y: auto;"
                                                data-placeholder="Describe the vision for this case study..."></div>
                                        </div>

                                        <div class="p-4 rounded-lg bg-white/[0.02] border border-white/[0.05]">
                                            <h3 class="text-base font-semibold text-white/90 mb-3 flex items-center">
                                                <i data-lucide="workflow" class="w-5 h-5 mr-2"></i>Our Process
                                            </h3>
                                            <div class="space-y-4">
                                                <div>
                                                    <label class="form-label text-sm">Introduction</label>
                                                    <div class="text-formatting-toolbar mb-2 flex flex-wrap gap-1">
                                                        <button type="button" class="format-btn" data-format="bold"
                                                            title="Bold"><i data-lucide="bold"
                                                                class="w-4 h-4"></i></button>
                                                        <button type="button" class="format-btn" data-format="italic"
                                                            title="Italic"><i data-lucide="italic"
                                                                class="w-4 h-4"></i></button>
                                                        <button type="button" class="format-btn" data-format="underline"
                                                            title="Underline"><i data-lucide="underline"
                                                                class="w-4 h-4"></i></button>
                                                    </div>
                                                    <div id="ourProcessIntro" contenteditable="true"
                                                        class="form-input content-editable"
                                                        style="min-height: 6rem; max-height: 20rem; overflow-y: auto;"
                                                        data-placeholder="Introduce the process..."></div>
                                                </div>

                                                <div>
                                                    <label class="form-label text-sm">Process Steps</label>
                                                    <div id="ourProcessBullets" class="space-y-2 mb-2"></div>
                                                    <button type="button" id="addProcessBulletBtn"
                                                        class="inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-white/[0.03] border border-white/[0.08] hover:bg-white/[0.06] transition-colors text-sm">
                                                        <i data-lucide="plus" class="w-4 h-4"></i>
                                                        <span>Add Process Step</span>
                                                    </button>
                                                </div>

                                                <div>
                                                    <label class="form-label text-sm">Conclusion</label>
                                                    <div class="text-formatting-toolbar mb-2 flex flex-wrap gap-1">
                                                        <button type="button" class="format-btn" data-format="bold"
                                                            title="Bold"><i data-lucide="bold"
                                                                class="w-4 h-4"></i></button>
                                                        <button type="button" class="format-btn" data-format="italic"
                                                            title="Italic"><i data-lucide="italic"
                                                                class="w-4 h-4"></i></button>
                                                        <button type="button" class="format-btn" data-format="underline"
                                                            title="Underline"><i data-lucide="underline"
                                                                class="w-4 h-4"></i></button>
                                                    </div>
                                                    <div id="ourProcessConclusion" contenteditable="true"
                                                        class="form-input content-editable"
                                                        style="min-height: 6rem; max-height: 20rem; overflow-y: auto;"
                                                        data-placeholder="Conclude the process section..."></div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="p-4 rounded-lg bg-white/[0.02] border border-white/[0.05]">
                                            <h3 class="text-base font-semibold text-white/90 mb-3 flex items-center">
                                                <i data-lucide="book-open" class="w-5 h-5 mr-2"></i>The Story We Told
                                            </h3>
                                            <div id="storyDynamicSections" class="space-y-4 mb-4"></div>
                                            <div class="flex gap-2">
                                                <button type="button" id="addStoryH3Btn"
                                                    class="inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-white/[0.03] border border-white/[0.08] hover:bg-white/[0.06] transition-colors text-sm">
                                                    <i data-lucide="heading-3" class="w-4 h-4"></i>
                                                    <span>Add Story Section</span>
                                                </button>
                                                <button type="button" id="addStoryImageBtn"
                                                    class="inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-white/[0.03] border border-white/[0.08] hover:bg-white/[0.06] transition-colors text-sm">
                                                    <i data-lucide="image" class="w-4 h-4"></i>
                                                    <span>Add Image</span>
                                                </button>
                                            </div>
                                        </div>

                                        <div class="p-4 rounded-lg bg-white/[0.02] border border-white/[0.05]">
                                            <h3 class="text-base font-semibold text-white/90 mb-3 flex items-center">
                                                <i data-lucide="trophy" class="w-5 h-5 mr-2"></i>The Result
                                            </h3>
                                            <div class="text-formatting-toolbar mb-2 flex flex-wrap gap-1">
                                                <button type="button" class="format-btn" data-format="bold"
                                                    title="Bold"><i data-lucide="bold" class="w-4 h-4"></i></button>
                                                <button type="button" class="format-btn" data-format="italic"
                                                    title="Italic"><i data-lucide="italic" class="w-4 h-4"></i></button>
                                                <button type="button" class="format-btn" data-format="underline"
                                                    title="Underline"><i data-lucide="underline"
                                                        class="w-4 h-4"></i></button>
                                            </div>
                                            <div id="theResult" contenteditable="true"
                                                class="form-input content-editable"
                                                style="min-height: 8rem; max-height: 20rem; overflow-y: auto;"
                                                data-placeholder="Describe the results achieved..."></div>
                                        </div>

                                        <div class="p-4 rounded-lg bg-white/[0.02] border border-white/[0.05]">
                                            <h3 class="text-base font-semibold text-white/90 mb-3 flex items-center">
                                                <i data-lucide="zap" class="w-5 h-5 mr-2"></i>The Impact
                                            </h3>
                                            <div id="theImpactBullets" class="space-y-2 mb-2"></div>
                                            <button type="button" id="addImpactBulletBtn"
                                                class="inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-white/[0.03] border border-white/[0.08] hover:bg-white/[0.06] transition-colors text-sm">
                                                <i data-lucide="plus" class="w-4 h-4"></i>
                                                <span>Add Impact Point</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div
                                class="labels-section-wrapper p-4 rounded-lg bg-white/[0.01] border border-white/[0.03] mb-6">
                                <h3 class="text-lg font-medium text-white/90 mb-4 flex items-center">
                                    <i data-lucide="tags" class="w-5 h-5 mr-2"></i>Keywords<span
                                        class="text-red-400">*</span>
                                </h3>

                                <div class="form-item mb-4">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" id="labelsNotMandatory"
                                            class="w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500">
                                        <span class="text-sm text-white/80">Keywords are not mandatory for this
                                            case study</span>
                                    </label>
                                </div>

                                <div id="labelsContainer" class="space-y-3 mb-4">
                                    <div class="label-item flex items-center gap-3">
                                        <div class="flex-1">
                                            <input type="text" class="label-input form-input"
                                                placeholder="Enter Keyword..." />
                                        </div>
                                        <div class="w-24">
                                            <input type="number" class="weight-input form-input" placeholder="Volume"
                                                min="1" max="100" />
                                        </div>
                                        <button type="button"
                                            class="remove-label-btn text-white/50 hover:text-red-500 transition-colors p-2 rounded-lg hover:bg-white/[0.05]"
                                            title="Remove">
                                            <i data-lucide="x" class="w-4 h-4"></i>
                                        </button>
                                    </div>
                                </div>

                                <button type="button" id="addLabelBtn"
                                    class="form-button bg-white/10 hover:bg-white/20 border border-white/20 text-white text-sm px-3 py-2">
                                    <i data-lucide="plus" class="w-4 h-4 mr-2"></i>
                                    Add Keywords
                                </button>
                            </div>

                            <div class="flex justify-end gap-3">
                                <div id="addModeButtons" style="gap: 1rem;">
                                    <button type="button" id="loadPreviewBtn"
                                        class="form-button bg-white hover:bg-gray-100 text-black">
                                        <i data-lucide="eye" class="w-4 h-4 mr-2"></i>
                                        Preview
                                    </button>
                                    <button type="button" id="saveDraftBtn"
                                        class="form-button bg-gray-600 hover:bg-gray-700 text-white">
                                        <i data-lucide="file-text" class="w-4 h-4 mr-2"></i>
                                        Draft
                                    </button>
                                    <button type="submit" id="savePublishBtn"
                                        class="form-button bg-green-600 hover:bg-green-700 text-white">
                                        <i data-lucide="send" class="w-4 h-4 mr-2"></i>
                                        Publish
                                    </button>
                                </div>

                                <div id="editModeButtons" style="display: none; gap: 1rem;">
                                    <button type="button" id="cancelEditBtn"
                                        class="form-button bg-gray-600 hover:bg-gray-700 text-white">
                                        <div class="flex items-center gap-2">
                                            <i data-lucide="x" class="w-4 h-4"></i>
                                            <p>Cancel</p>
                                        </div>
                                    </button>
                                    <button type="button" id="loadPreviewEditBtn"
                                        class="form-button bg-white hover:bg-gray-100 text-black">
                                        <i data-lucide="eye" class="w-4 h-4 mr-2"></i>
                                        Preview
                                    </button>
                                    <button type="button" id="deleteBlogBtn"
                                        class="form-button bg-red-600 hover:bg-red-700 text-white">
                                        <div class="flex items-center gap-2">
                                            <i data-lucide="trash-2" class="w-4 h-4"></i>
                                            <p>Delete</p>
                                        </div>
                                    </button>
                                    <button type="button" id="updateBlogBtn"
                                        class="form-button bg-white/10 hover:bg-white/20 border border-white/20 text-white">
                                        <div class="flex items-center gap-2">
                                            <i data-lucide="save" class="w-4 h-4"></i>
                                            <p>Update</p>
                                        </div>
                                    </button>
                                </div>
                            </div>

                        </form>
                    </div>
                </section>

                <section id="editBlogs" class="content-section">
                    <div class="form-container">
                        <h2 class="section-title text-center">Edit/Delete Case Study</h2>
                        <div class="section-content">

                            <div class="form-row mb-6">
                                <div class="form-item">
                                    <label class="form-label" for="filterTitle"><i data-lucide="type"
                                            class="w-4 h-4 inline mr-2"></i>Filter by Title</label>
                                    <input type="text" id="filterTitle" class="form-input" placeholder="Enter title...">
                                </div>
                                <div class="form-item">
                                    <label class="form-label mb-2">
                                        <i data-lucide="filter" class="w-4 h-4 inline mr-2"></i>Filters
                                    </label>
                                    <label
                                        class="inline-flex items-center gap-2 px-4 py-2.5 rounded-lg cursor-pointer transition-all bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20">
                                        <input type="checkbox" id="filterEditorsChoice"
                                            class="w-4 h-4 text-yellow-600 bg-gray-800 border-gray-600 rounded focus:ring-yellow-500 focus:ring-2">
                                        <i data-lucide="star" class="w-4 h-4 text-yellow-500"></i>
                                        <span class="text-sm font-medium text-white/90">Show Only Editor's Choice</span>
                                    </label>
                                </div>
                            </div>

                            <div id="blogsLoading" class="text-center py-8 hidden">
                                <i data-lucide="loader-2" class="w-6 h-6 animate-spin mx-auto mb-2 text-white/60"></i>
                                <p class="text-white/60">Loading case studies...</p>
                            </div>

                            <div id="noBlogsFound" class="text-center py-8 hidden">
                                <i data-lucide="file-x" class="w-12 h-12 mx-auto mb-4 text-white/40"></i>
                                <h3 class="text-lg font-semibold mb-2 text-white/80">Nothing Was Found</h3>
                                <p class="text-white/60">Try adjusting your search terms or check back later.</p>
                            </div>

                            <div id="blogsList" class="space-y-4">
                            </div>

                            <div id="paginationControls" class="flex justify-center items-center gap-4 mt-6 hidden">
                                <button id="prevPage"
                                    class="form-button bg-white/10 hover:bg-white/20 border border-white/20 text-white text-xs px-3 py-2 disabled:opacity-50 disabled:cursor-not-allowed">
                                    <div class="flex items-center gap-2">
                                        <i data-lucide="chevron-left" class="w-3 h-3"></i>
                                        <p>Previous</p>
                                    </div>
                                </button>
                                <span id="pageInfo" class="text-sm text-white/60 px-4">
                                    Page 1 of 1
                                </span>
                                <button id="nextPage"
                                    class="form-button bg-white/10 hover:bg-white/20 border border-white/20 text-white text-xs px-3 py-2 disabled:opacity-50 disabled:cursor-not-allowed">
                                    <div class="flex items-center gap-2">
                                        <p>Next</p>
                                        <i data-lucide="chevron-right" class="w-3 h-3"></i>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

            </div>
        </div>
    </main>

    <div id="messageModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle" class="modal-title">Message</h3>
                <button type="button" class="modal-close" onclick="closeModal()">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            <div class="modal-body">
                <p id="modalMessage">Message content goes here.</p>
            </div>
        </div>
    </div>

    <div id="linkModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add Hyperlink</h3>
                <button type="button" class="modal-close" onclick="closeLinkModal()">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="space-y-4">
                    <div class="form-item">
                        <label class="form-label" for="linkUrl">
                            <i data-lucide="link" class="w-4 h-4 inline mr-2"></i>URL <span
                                class="text-red-400">*</span>
                        </label>
                        <input type="url" id="linkUrl" class="form-input" placeholder="https://example.com" required />
                    </div>
                    <div class="form-item">
                        <label class="form-label" for="linkDisplayName">
                            <i data-lucide="type" class="w-4 h-4 inline mr-2"></i>Display Text <span
                                class="text-red-400">*</span>
                        </label>
                        <input type="text" id="linkDisplayName" class="form-input" placeholder="Link text to display"
                            required />
                    </div>
                </div>
                <div class="flex justify-end gap-3 mt-6">
                    <button type="button" class="modal-button modal-button-secondary" onclick="closeLinkModal()">
                        <div class="flex items-center gap-2">
                            <p>Cancel</p>
                        </div>
                    </button>
                    <button type="button" class="modal-button modal-button-primary" onclick="insertLink()">
                        <div class="flex items-center gap-2">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                            <p>Add Link</p>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="bulletModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add Bullet Points</h3>
                <button type="button" class="modal-close" onclick="closeBulletModal()">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="space-y-4">
                    <div class="form-item">
                        <label class="form-label">
                            <i data-lucide="list" class="w-4 h-4 inline mr-2"></i>Bullet Points
                        </label>
                        <p class="text-xs text-white/60 mb-2">Add one bullet point per line. Empty lines will be
                            ignored.</p>
                        <div id="bulletPointsContainer" class="space-y-2">
                            <div class="bullet-point-item flex items-center gap-2">
                                <input type="text" class="bullet-input form-input flex-1"
                                    placeholder="Bullet point 1" />
                                <button type="button"
                                    class="remove-bullet-btn text-white/50 hover:text-red-500 transition-colors p-1"
                                    title="Remove">
                                    <i data-lucide="x" class="w-4 h-4"></i>
                                </button>
                            </div>
                            <div class="bullet-point-item flex items-center gap-2">
                                <input type="text" class="bullet-input form-input flex-1"
                                    placeholder="Bullet point 2" />
                                <button type="button"
                                    class="remove-bullet-btn text-white/50 hover:text-red-500 transition-colors p-1"
                                    title="Remove">
                                    <i data-lucide="x" class="w-4 h-4"></i>
                                </button>
                            </div>
                        </div>
                        <button type="button" id="addBulletBtn"
                            class="mt-3 text-sm text-blue-400 hover:text-blue-300 flex items-center gap-1">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                            Add another bullet point
                        </button>
                    </div>
                </div>
                <div class="flex justify-end gap-3 mt-6">
                    <button type="button" class="modal-button modal-button-secondary" onclick="closeBulletModal()">
                        <div class="flex items-center gap-2">
                            <p>Cancel</p>
                        </div>
                    </button>
                    <button type="button" class="modal-button modal-button-primary" onclick="insertBulletList()">
                        <div class="flex items-center gap-2">
                            <i data-lucide="list" class="w-4 h-4"></i>
                            <p>Add Bullet List</p>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="deleteConfirmModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Confirm Case Study Deletion</h3>
                <button type="button" class="modal-close" onclick="closeDeleteConfirmModal()">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="space-y-4">
                    <div class="p-4 bg-red-600/10 border border-red-600/20 rounded-lg">
                        <div class="flex items-start gap-3">
                            <i data-lucide="alert-triangle" class="w-5 h-5 text-red-400 mt-0.5 flex-shrink-0"></i>
                            <div>
                                <h4 class="text-red-400 font-medium mb-1">âš ï¸ Warning: This action is permanent and
                                    cannot be undone!</h4>
                                <p class="text-white/80 text-sm">You are about to permanently delete the following case
                                    study from the database:</p>
                                <p id="deleteBlogTitle" class="text-white font-medium mt-2 break-words"></p>
                                <p class="text-red-400 text-xs mt-2 font-semibold">This will completely remove all data
                                    associated with this case study. There is no way to recover it once deleted.</p>
                            </div>
                        </div>
                    </div>

                    <div class="form-item">
                        <label class="flex items-start gap-2 cursor-pointer">
                            <input type="checkbox" id="confirmDeleteCheckbox"
                                class="mt-1 w-4 h-4 text-red-600 bg-gray-100 border-gray-300 rounded focus:ring-red-500">
                            <span class="text-sm text-white/80">
                                I understand that this case study will be permanently deleted from the database and
                                cannot be recovered.
                            </span>
                        </label>
                    </div>
                </div>

                <div class="flex justify-end gap-3 mt-6">
                    <button type="button" class="modal-button modal-button-secondary"
                        onclick="closeDeleteConfirmModal()">
                        <div class="flex items-center gap-2">
                            <p>Cancel</p>
                        </div>
                    </button>
                    <button type="button" id="confirmDeleteBtn"
                        class="modal-button bg-red-600 hover:bg-red-700 text-white"
                        onclick="confirmDeleteBlog('/api/case-studies', fetchBlogs)" disabled>
                        <div class="flex items-center gap-2">
                            <i data-lucide="trash-2" class="w-4 h-4"></i>
                            <p>Delete Permanently</p>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="blogUrlModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Case Study URL</h3>
                <button type="button" class="modal-close" onclick="closeBlogUrlModal()">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="space-y-4">
                    <div class="form-item">
                        <label class="form-label">
                            <i data-lucide="file-text" class="w-4 h-4 inline mr-2"></i>Case Study Title
                        </label>
                        <p id="urlBlogTitle"
                            class="text-white/80 bg-white/5 p-3 rounded-lg border border-white/10 break-words"></p>
                    </div>

                    <div class="form-item">
                        <label class="form-label">
                            <i data-lucide="external-link" class="w-4 h-4 inline mr-2"></i>Case Study URL
                        </label>
                        <div class="flex items-center gap-2">
                            <input type="text" id="blogUrlDisplay" class="form-input flex-1" readonly />
                            <button type="button" id="copyUrlBtn"
                                class="form-button bg-white/10 hover:bg-white/20 border border-white/20 text-white px-3 py-2"
                                onclick="copyBlogUrl()" title="Copy URL to clipboard">
                                <div class="flex items-center gap-2">
                                    <i data-lucide="copy" class="w-4 h-4"></i>
                                </div>
                            </button>
                        </div>
                        <p class="text-xs text-white/50 mt-1">
                            Click the copy button to copy the URL to your clipboard, or click "Open" to visit the case
                            study.
                        </p>
                    </div>
                </div>

                <div class="flex justify-end gap-3 mt-6">
                    <button type="button" class="modal-button modal-button-secondary" onclick="closeBlogUrlModal()">
                        <div class="flex items-center gap-2">
                            <p>Close</p>
                        </div>
                    </button>
                    <button type="button" id="openBlogBtn" class="modal-button modal-button-primary"
                        onclick="openBlogInNewTab()">
                        <div class="flex items-center gap-2">
                            <i data-lucide="external-link" class="w-4 h-4"></i>
                            <p>Open Case Study</p>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.min.js"></script>
    <script>
        const originalTitle = "Admin Case Studies â€¢ Suflex Media | Manage Case Study Content";
        const awayTitle = "Missing you already!";
        const originalFavicon = "/images/logo_header.png";

        function createEmojiFavicon(emoji) {
            const canvas = document.createElement('canvas');
            canvas.width = 32;
            canvas.height = 32;
            const ctx = canvas.getContext('2d');
            ctx.font = '28px serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(emoji, 16, 18);
            return canvas.toDataURL('image/png');
        }

        const awayFavicon = createEmojiFavicon('ðŸ˜¢');

        function setFavicon(href) {
            let link = document.querySelector("link[rel*='icon']");
            if (!link) {
                link = document.createElement('link');
                link.rel = 'icon';
                document.head.appendChild(link);
            }
            link.href = href;
        }

        document.addEventListener("visibilitychange", function () {
            if (document.hidden) {
                document.title = awayTitle;
                setFavicon(awayFavicon);
            } else {
                document.title = originalTitle;
                setFavicon(originalFavicon);
            }
        });
    </script>
    <script src="/js/zoom.js"></script>
    <script type="module" src="/js/admin_case_studies.js"></script>
</body>

</html>